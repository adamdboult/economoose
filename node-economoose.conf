
<VirtualHost *:80>

	ServerName www.economoose.com
	ServerAlias economoose.com

	ServerAdmin adam@yetipredict.com
	
	RewriteEngine on
	RewriteRule ^(.*)$ https://%{HTTP_HOST}$1 [R=301,L]


</VirtualHost>
	
<IfModule mod_ssl.c>
	
	<VirtualHost *:443>

		ServerName economoose.com
		
		ServerAdmin adam@yetipredict.com
		
		SSLEngine On
		
        	SSLCertificateKeyFile /etc/letsencrypt/live/economoose.com/privkey.pem
        	SSLCertificateChainFile /etc/letsencrypt/live/economoose.com/fullchain.pem
        	SSLCertificateFile /etc/letsencrypt/live/economoose.com/cert.pem

		RewriteEngine On
		RewriteCond %{HTTP_HOST} ^economoose\.com [NC]
		RewriteRule ^ https://www.economoose.com%{REQUEST_URI} [R=301,L]

	</VirtualHost>

	<VirtualHost *:443>

		ServerName www.economoose.com

		ServerAdmin adam@yetipredict.com

		ProxyRequests On

		ProxyPass / http://localhost:3000/
		ProxyPassReverse / http://localhost:3000/

		SSLEngine On

        	SSLCertificateKeyFile /etc/letsencrypt/live/economoose.com/privkey.pem
        	SSLCertificateChainFile /etc/letsencrypt/live/economoose.com/fullchain.pem
        	SSLCertificateFile /etc/letsencrypt/live/economoose.com/cert.pem

		#Include /etc/letsencrypt/options-ssl-apache.conf

	</VirtualHost>

</IfModule>
